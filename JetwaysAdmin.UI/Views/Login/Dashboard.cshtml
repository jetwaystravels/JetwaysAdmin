@using System.Security.Claims
@model JetwaysAdmin.UI.ViewModel.Dashboard
@{
    Layout = "~/Views/Shared/Admin.cshtml";
    var Data = Model;
    bool canAccessRole = ViewBag.CanAccessRole ?? false;
}

<main id="main" class="main">
    <div class="pcoded-main-container">
        <div class="pcoded-wrapper">
            <!-- Page-header start -->
            <div class="page-header">
                <div class="page-block">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <div class="page-header-title">
                                <h5 class="m-b-10">Manage Customers</h5>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a href="#">Settings</a>
                                </li>
                                <li class="breadcrumb-item">
                                    <a href="#!">Manage Customers</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Page-header end -->
            <div class="pcoded-inner-content">
                <!-- Main-body start -->
                <div class="main-body">
                    <div class="page-wrapper">
                        <!-- Page-body start -->
                        <div class="page-body">
                            <!-- End Company details wrapper -->
                            <div class="row">
                                <!--  sale analytics start -->
                                <div class="col-xl-12 col-md-12 block-section">
                                    <div class="row">
                                        <!-- sale card start -->
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card" style="cursor: pointer;" id="customerCard">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Customers</h6>
                                                    <h3 class="m-t-15 m-b-15">
                                                        <i class="fa fa-arrow-up m-r-15 text-c-red"></i>
                                    @Model.CustomerCount
                                                    </h3>
                                                    <p class="m-b-0">Manage and configure your customers</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card" style="cursor:pointer;" id="supplierId">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Suppliers</h6>
                                                    <h3 class="m-t-15 m-b-15">
                                                        <i class="fa fa-arrow-up m-r-15 text-c-green"></i>
                                    @Model.SupplierCount
                                                    </h3>
                                                    <p class="m-b-0">Manage and configure your suppliers</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card" id="IATAgroup">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Jetways IATA Groups</h6>
                                                    <h3 class="m-t-15 m-b-15">
                                                        <i class="fa fa-arrow-up m-r-15 text-c-red"></i>
                                    @Model.IATAGroupsCount
                                                    </h3>
                                                    <p class="m-b-0">Manage your IATA Groups</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card" id="IATACommissions">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">IATA Commissions</h6>
                                                    <h5 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-green"></i>1</h5>
                                                    <p class="m-b-0">Manage your IATA Commissions</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div  class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Commercials</h6>
                                                    <p class="m-b-0">Manage your Commercials</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Mini Fare Rules</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-red"></i>4</h3>
                                                    <p class="m-b-0">Manage mini fare rules for all airlines</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Reporting Parameters</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-green"></i>26</h3>
                                                    <p class="m-b-0">Manage Reporting Parameters</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <a asp-controller="MasterData" asp-action="ShowMasterData" class="text-decoration-none">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Master Data</h6>
                                                        <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-green"></i>3</h3>
                                                    <p class="m-b-0">Manage master data</p>
                                                </div>
                                            </div>
                                            </a>
                                        </div>

                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Credit Cards</h6>
                                                    <p class="m-b-0">Manage your credit cards</p>
                                                </div>
                                            </div>
                                        </div>
                                        @if (canAccessRole)
                                        {
                                            <div class="col-md-2">
                                                <div class="card text-center order-visitor-card" id="accessRoleCard" style="cursor:pointer;">
                                                    <div class="card-block">
                                                        <h6 class="m-b-0">Access Role</h6>
                                                        <p class="m-b-0">Manage role base access</p>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="col-md-2">
                                                <div class="card text-center order-visitor-card" style="opacity:0.4; cursor:not-allowed;">
                                                    <div class="card-block">
                                                        <h6 class="m-b-0">Access Role</h6>
                                                        <p class="m-b-0">Only SuperAdmin can access</p>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Cabs</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-red"></i>4</h3>
                                                    <p class="m-b-0">Manage your cabs</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Banners</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-green"></i>1</h3>
                                                    <p class="m-b-0">Manage your banners</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Manage Account Balance</h6>
                                                    <p class="m-b-0">Manage Account Balance</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Manage Exchange Rates</h6>
                                                    <p class="m-b-0">Manage Exchange Rates</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">User Manuals</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-red"></i>6</h3>
                                                    <p class="m-b-0">Manage User Manuals</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Visa Masters</h6>
                                                    <p class="m-b-0">Manage Visa Mastering</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Log Book</h6>
                                                    <p class="m-b-0">Manage Log Books</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Custom Product</h6>
                                                    <p class="m-b-0">Manage Custom Product</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="card text-center order-visitor-card">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Feedbacks</h6>
                                                    <h3 class="m-t-15 m-b-15"><i class="fa fa-arrow-up m-r-15 text-c-green"></i>0</h3>
                                                    <p class="m-b-0">Manage Feedbacks</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <a asp-controller="DashboardBooking" asp-action="Index" class="text-decoration-none">
                                            <div class="card text-center order-visitor-card"  style="cursor:pointer;">
                                                <div class="card-block">
                                                    <h6 class="m-b-0">Dash Board</h6>
                                                    <p class="m-b-0">Booking Details</p>
                                                </div>
                                            </div>
                                            </a>
                                        </div>
                                        <!-- sale card end -->
                                    </div>
                                </div>
                                <!--  sale analytics end -->
                            </div>
                        </div>
                        <!-- Page-body end -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- End #main -->


<footer>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            $("#customerCard").click(function (e) {
               e.preventDefault();
                $.ajax({
                    type: "POST",
                    url: "@Url.Action("ShowCustomersDetail", "CustomersDetail")",
                    success: function (response) {

                        console.log("Posted successfully!");
                        window.location.href = '@Url.Action("ShowCustomersDetail", "CustomersDetail")';
                    },
                    error: function (xhr, status, error) {
                        console.error("Error: " + error);
                    }
                });
            });
            $("#supplierId").click(function (e) {
                e.preventDefault();
                window.location.href = '@Url.Action("ShowManageSuppliers", "ManageSuppliers")';
            });

            $("#IATAgroup").click(function (e) {
            e.preventDefault();
            window.location.href = '@Url.Action("ShowIATAGroup", "IATAGroup")';
            });

            
             $("#IATACommissions").click(function (e) {
                e.preventDefault();
                window.location.href = '@Url.Action("ShowIATACommissions", "IATACommissions")';
            });

            $("#accessRoleCard").click(function (e) {
            e.preventDefault();
            window.location.href = '@Url.Action("UserAccess", "AccessRole")';

            $("#bookingdashboard").click(function (e) {
            e.preventDefault();
            window.location.href = '@Url.Action("Index", "DashboardBooking")';
        });
        
        });
    </script>

</footer>