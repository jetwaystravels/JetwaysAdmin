@using System.Security.Claims;
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Jetways Travels</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="keywords" content="Admin" />
    <!-- Favicon icon -->
    <link rel="icon" href="~/assets/images/favicon.png" type="image/x-icon">
    <!-- waves.css -->
    <link rel="stylesheet" href="~/assets/pages/waves/css/waves.min.css" type="text/css" media="all">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/bootstrap/css/bootstrap.min.css">
    <!-- waves.css -->
    <link rel="stylesheet" href="~/assets/pages/waves/css/waves.min.css" type="text/css" media="all">
    <!-- themify icon -->
    <link rel="stylesheet" type="text/css" href="~/assets/icon/themify-icons/themify-icons.css">
    <!-- font-awesome-n -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/font-awesome.min.css">
    <!-- scrollbar.css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/jquery.mCustomScrollbar.css">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/select2.min.css">
    <style>
        .page-wrapper {
            filter: unset;
            pointer-events: unset;
        }
    </style>
</head>

<body>
    <header>
        <!-- Pre-loader start -->
        <div class="theme-loader">
            <div class="loader-track">
                <div class="preloader-wrapper">
                    <div class="spinner-layer spinner-blue">
                        <div class="circle-clipper left">
                            <div class="circle"></div>
                        </div>
                        <div class="gap-patch">
                            <div class="circle"></div>
                        </div>
                        <div class="circle-clipper right">
                            <div class="circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Pre-loader end -->
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">
            <nav class="navbar header-navbar pcoded-header">
                <div class="navbar-wrapper">
                    <div class="navbar-logo">
                            <a asp-controller="Login" asp-action="dashboard">
                                <img class="img-fluid" title="logo" src="../assets/images/logo.png" alt="logo" style="width:180px;" />
                            </a>
                        <a class="mobile-menu waves-effect waves-light" id="mobile-collapse" href="#!">
                            <i class="ti-menu"></i>
                        </a>
                    </div>
                    <div class="navbar-container container-fluid">
                        <ul class="nav-left">
                            <li>
                                <div class="sidebar_toggle"><a href="javascript:void(0)"><i class="ti-menu"></i></a></div>
                            </li>
                            <li>
                                <a href="#!" onclick="javascript:toggleFullScreen()" class="waves-effect waves-light">
                                    <i class="ti-fullscreen"></i>
                                </a>
                            </li>
                        </ul>
                        <ul class="nav-right">
                            <li><a href="#">Home</a></li>
                            <li><a href="#">My Trips</a></li>
                            <li><a href="#">Approvals</a></li>
                            <li><a href="#">Tripbox</a></li>
                            <li><a href="#">Analytics</a></li>
                            <li class="user-profile header-notification">
                                <a href="#!" class="waves-effect waves-light">
                                    <img onerror="this.src='../assets/images/login-img.svg'" class="user-pic" loading="lazy" src="../assets/images/login-img.svg">
                                    <span>Login</span>
                                    <i class="ti-angle-down"></i>
                                </a>
                                <ul class="show-notification profile-notification">
                                    <li class="first">

                                            @if (User.Identity.IsAuthenticated)
                                            {

                                                var identity = (ClaimsIdentity)User.Identity;
                                                IEnumerable<Claim> claims = identity.Claims;

                                                var userName = claims.Where(c => c.Type == ClaimTypes.Name).ToList()[0].Value;
                                                var userEmail = claims.Where(c => c.Type == ClaimTypes.Email).ToList()[0].Value;

                                                <div style="border-bottom: #eee 1px solid; padding-bottom: 7px;">
                                                    <div class="d-flex" style="margin-bottom: 4px;">
                                                        <img class="user-pic" title="user-icon" alt="img" loading="lazy" src="../assets/images/login-img.svg">
                                                        <strong style="font-weight: 600; margin-top: 8px;">@userName</strong>
                                                    </div>
                                                    <div>
                                                        <p style="color: #a9a9a9; margin-bottom: 2px;">@userEmail</p>
                                                        <p style="color: #a9a9a9; margin-bottom: 2px;">[JET001] Jetways Travels</p>
                                                        <p style="color:#a9a9a9;margin-bottom: 2px; "> Balance : <i class="fa fa-inr" aria-hidden="true" style="vertical-align:middle;"></i></p>
                                                    </div>
                                                    <a class="nav-link dropbtn signOutBtn" href="@Url.Action("Logout", "Login")">Logout</a>
                                                </div>
                                            }
                                    </li>
                                    <li><strong style="font-weight:600;"><i class="fa fa-address-card" aria-hidden="true"></i>Account</strong></li>
                                    <li class="waves-effect waves-light">
                                        <a href="#!">
                                            <i class="fa fa-television" aria-hidden="true"></i> Emulate
                                        </a>
                                    </li>
                                    <li class="waves-effect waves-light">
                                        <a href="user-profile.html">
                                            <i class="fa fa-list" aria-hidden="true"></i> Checklist
                                        </a>
                                    </li>
                                    <li class="waves-effect waves-light">
                                        <a href="email-inbox.html">
                                            <i class="ti-user"></i> My Profile
                                        </a>
                                    </li>
                                    <li class="waves-effect waves-light">
                                        <a href="auth-lock-screen.html">
                                            <i class="ti-lock"></i> Change Password
                                        </a>
                                    </li>
                                    <li><a href="#"><i class="ti-settings"></i>Settings</a></li>
                                    <li><a asp-controller="InternalUsers" asp-action="ShowInternalUsers"><i class="fa fa-user-o" aria-hidden="true"></i>User Management</a></li>
                                    <li><a href="#"><i class="fa fa-phone" aria-hidden="true"></i>Contact Us</a></li>
                                    <li><a href="#"><i class="fa fa-commenting-o" aria-hidden="true"></i>Feedbacks</a></li>
                                    <li><a href="#"><i class="fa fa-file-text-o" aria-hidden="true"></i><strong>User Manual</strong></a></li>
                                    <li class="waves-effect waves-light">
                                        <a href="auth-normal-sign-in.html">
                                            <strong style="font-weight:600;"><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</strong>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
                @{
                    TempData.Keep("EmplID");
                    TempData.Keep("EmplName");
                }
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    <nav class="pcoded-navbar">
                        <div class="sidebar_toggle"><a href="#"><i class="icon-close icons"></i></a></div>
                        <div class="pcoded-inner-navbar main-menu">
                            <div class="">
                                <div class="main-menu-header">
                                    <div class="d-flex align-items-center">
                                        <a href="customers.html" style="position: relative; z-index: 10;"><i class="fa fa-arrow-left mr-2" aria-hidden="true" style="vertical-align: text-top;"></i></a>
                                       
                                            @if (TempData["LogoBase64"] != null)
                                            {
                                                <img class="m-t-10" src="data:image/png;base64,@TempData["LogoBase64"]" alt="Logo" alt="user-img" loading="lazy" style="width:40px;">
                                            }
                                            else
                                            {
                                                <img class="m-t-10" src="../assets/images/login-img.svg" alt="user-img" loading="lazy" style="width:40px;">
                                            }
                                        <div class="m-l-10"><strong style="font-weight:700;">EMP ID: @TempData["EmplID"]</strong></div>
                                    </div>
                                    <h6 style="font-weight:700;">
                                        <label style="margin-bottom:0;">
                                           @TempData["EmplName"]
                                        </label>
                                    </h6>
                                </div>
                            </div>
                            <ul class="pcoded-item pcoded-left-item">
                                <li class="active">
                                        <a asp-controller="InternalUsers" asp-action="UpdateInternalUsers" class="waves-effect waves-dark" asp-route-UserID="@ViewBag.Userid">
                                        <span class="pcoded-micon"><i class="fa fa-user" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Personal Info</span>
                                    </a>
                                </li>
                                <li class="">
                                        <a asp-controller="InternalUsers" asp-action="OrganizationProfile" class="waves-effect waves-dark" asp-route-UserID="@ViewBag.Userid">
                                        <span class="pcoded-micon"><i class="fa fa-building-o" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Organization Profile</span>
                                    </a>
                                </li>
                                <li class="">
                                        <a asp-controller="InternalUsers" asp-action="UserContactDetails" class="waves-effect waves-dark" asp-route-UserID="@ViewBag.Userid">
                                        <span class="pcoded-micon"><i class="fa fa-envelope-o" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Contact Details</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-file-text-o" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Documents</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-exchange" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Preferences</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-credit-card" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Credit Cards</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-group" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Family</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-list-alt" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Reporting Parameters</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="guest-users.html" class="waves-effect waves-dark">
                                        <span class="pcoded-micon"><i class="fa fa-cc-jcb" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">GDS Profile</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <div class="pcoded-content">
                        <main role="main" class="pb-3">
                            @RenderBody()
                        </main>
                    </div>
                    <div id="styleSelector"> </div>
                </div>
            </div>
        </div>
        <!-- Main-body end -->
    </div>
    </header>
    <!-- Required Jquery -->
    <script type="text/javascript" src="~/assets/js/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="~/assets/js/jquery-ui/jquery-ui.min.js"></script>
    <script type="text/javascript" src="~/assets/js/popper.js/popper.min.js"></script>
    <script type="text/javascript" src="~/assets/js/bootstrap/js/bootstrap.min.js"></script>
    <!-- waves js -->
    <script src="~/assets/pages/waves/js/waves.min.js"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="~/assets/js/jquery-slimscroll/jquery.slimscroll.js"></script>
    <!-- slimscroll js -->
    <script src="~/assets/js/jquery.mCustomScrollbar.concat.min.js"></script>

    <!-- menu js -->
    <script src="~/assets/js/pcoded.min.js"></script>
    <script src="~/assets/js/vertical/vertical-layout.min.js"></script>
    <script type="text/javascript" src="~/assets/js/script.js"></script>
    <!-- multiple selection Jquery -->
    <script type="text/javascript" src="~/assets/js/jquery.multiselect.js"></script>
    <!-- select with search js Start -->
    <script type="text/javascript" src="~/assets/js/select2.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <script>
        $(function () {
            $(".select").select2();
        });
    </script>
    <!-- Upload image format start -->
    <script>
        document.getElementById('imageInput').addEventListener('change', function (event) {
            const file = event.target.files[0]; // Get the selected file
            if (file) {
                const reader = new FileReader(); // Create FileReader
                reader.onload = function (e) {
                    document.getElementById('preview').src = e.target.result; // Set new image source
                };
                reader.readAsDataURL(file); // Read the file as Data URL
            }
        });
    </script>
    <!-- Upload image format End -->
</body>
</html>
